<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="icon" href="/favicon.ico">

    
    <link rel="stylesheet" href="/static/build/assets/app.css">
    <script type="module" src="/static/build/assets/app.js"></script>
    
<title>Framework Integrations - Luminosity Docs</title>
<meta name="description" content="Documentation for Framework Integrations in Luminosity SEO Engine.">
<link rel="canonical" href="https://lux.gravito.dev/docs/frameworks">
<meta property="og:title" content="Framework Integrations - Luminosity Docs">
<meta property="og:type" content="website">
<meta property="og:url" content="https://lux.gravito.dev/docs/frameworks">
<meta property="og:description" content="Documentation for Framework Integrations in Luminosity SEO Engine.">
<meta property="og:image" content="https://lux.gravito.dev/og-image.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Framework Integrations - Luminosity Docs">
<meta name="twitter:description" content="Documentation for Framework Integrations in Luminosity SEO Engine.">
<meta name="twitter:image" content="https://lux.gravito.dev/og-image.png">
</head>

<body class="bg-black">
    <div id="app" data-page='{"component":"Docs","props":{"title":"Framework Integrations","content":"&lt;h1&gt;Framework Integration Guide&lt;/h1&gt;\n&lt;p&gt;Luminosity is designed to be &lt;strong&gt;Framework-agnostic&lt;/strong&gt;. Whether you are using Express, Photon, Fastify, or plain Node.js, you can easily integrate Luminosity to manage your sitemaps.&lt;/p&gt;\n&lt;h2&gt;Express Integration&lt;/h2&gt;\n&lt;p&gt;In Express, you can use Luminosity as a middleware or a standalone controller.&lt;/p&gt;\n&lt;h3&gt;Installation&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&quot;language-bash\&quot;&gt;npm install express @gravito/luminosity\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;Basic Usage&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&quot;language-typescript\&quot;&gt;import express from &amp;#39;express&amp;#39;\nimport { SeoEngine, SeoRenderer } from &amp;#39;@gravito/luminosity&amp;#39;\n\nconst app = express()\nconst port = 3000\n\n// 1. Initialize Engine\nconst seo = new SeoEngine({\n  mode: &amp;#39;incremental&amp;#39;,\n  baseUrl: &amp;#39;https://example.com&amp;#39;,\n  resolvers: [], // Required, even if empty\n  incremental: {\n      logDir: &amp;#39;./.luminosity&amp;#39;\n  }\n})\n\n// Must call init()\nawait seo.init()\n\n// 2. Intercept URL Changes (Middleware Example)\napp.use((req, res, next) =&amp;gt; {\n    // Log directly to Luminosity when content changes\n    res.on(&amp;#39;finish&amp;#39;, () =&amp;gt; {\n        if (res.statusCode &amp;gt;= 200 &amp;amp;&amp;amp; res.statusCode &amp;lt; 300 &amp;amp;&amp;amp; [&amp;#39;POST&amp;#39;, &amp;#39;PUT&amp;#39;, &amp;#39;DELETE&amp;#39;].includes(req.method)) {\n             // Derive the affected URL from req.path or body\n             // seo.getStrategy().add({ url: ..., lastmod: new Date() })\n        }\n    })\n    next()\n})\n\n// 3. Serve Sitemap\napp.get(&amp;#39;/sitemap.xml&amp;#39;, async (req, res) =&amp;gt; {\n    const entries = await seo.getStrategy().getEntries()\n    // Note: SeoRenderer requires resolvers and mode to be set\n    const renderer = new SeoRenderer({ \n        baseUrl: &amp;#39;https://example.com&amp;#39;,\n        mode: &amp;#39;incremental&amp;#39;,\n        resolvers: []\n    })\n    const xml = renderer.render(entries, &amp;#39;https://example.com/sitemap.xml&amp;#39;)\n    \n    res.header(&amp;#39;Content-Type&amp;#39;, &amp;#39;application/xml&amp;#39;)\n    res.send(xml)\n})\n\napp.listen(port, () =&amp;gt; {\n  console.log(`Example app listening on port ${port}`)\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Photon Integration&lt;/h2&gt;\n&lt;p&gt;If you&amp;#39;re using Photon with modern standards (like within Gravito), integration is even simpler.&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&quot;language-typescript\&quot;&gt;import { Photon } from &amp;#39;@gravito/photon&amp;#39;\nimport { SeoEngine, SeoRenderer } from &amp;#39;@gravito/luminosity&amp;#39;\n\nconst app = new Photon()\n\nconst seo = new SeoEngine({\n    mode: &amp;#39;cached&amp;#39;, // Recommended for Serverless\n    baseUrl: &amp;#39;https://my-photon-app.com&amp;#39;,\n    resolvers: [] // Required\n})\n\nawait seo.init()\n\napp.get(&amp;#39;/sitemap.xml&amp;#39;, async (c) =&amp;gt; {\n    const entries = await seo.getStrategy().getEntries()\n    const renderer = new SeoRenderer({ \n        baseUrl: &amp;#39;https://my-photon-app.com&amp;#39;,\n        mode: &amp;#39;cached&amp;#39;,\n        resolvers: []\n    })\n    \n    const xml = renderer.render(entries, c.req.url)\n    \n    return c.body(xml, 200, {\n        &amp;#39;Content-Type&amp;#39;: &amp;#39;application/xml&amp;#39;\n    })\n})\n\nexport default app\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Next Steps&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;Learn about &lt;a href=\&quot;/docs/configuration\&quot;&gt;Configuration&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;Explore &lt;a href=\&quot;/docs/cli\&quot;&gt;CLI Tools&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;hr&gt;\n&lt;h2&gt;RouteScanner (Automatic Route Discovery)&lt;/h2&gt;\n&lt;p&gt;Luminosity now includes a powerful &lt;strong&gt;RouteScanner&lt;/strong&gt; system that automatically discovers routes from various frameworks, eliminating the need to manually define resolvers for static routes.&lt;/p&gt;\n&lt;h3&gt;Supported Frameworks&lt;/h3&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Framework&lt;/th&gt;\n&lt;th&gt;Scanner&lt;/th&gt;\n&lt;th&gt;Route Discovery Method&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Gravito&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;GravitoScanner&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;core.router.routes&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Hono&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;HonoScanner&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;app.routes&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Express&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;ExpressScanner&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;app._router.stack&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Next.js&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;NextScanner&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;File system (&lt;code&gt;app/&lt;/code&gt;, &lt;code&gt;pages/&lt;/code&gt;)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;strong&gt;Nuxt&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;NuxtScanner&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;File system (&lt;code&gt;pages/&lt;/code&gt;)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n&lt;h3&gt;Usage with Hono&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&quot;language-typescript\&quot;&gt;import { Hono } from &amp;#39;hono&amp;#39;\nimport { SitemapBuilder, HonoScanner } from &amp;#39;@gravito/luminosity&amp;#39;\n\nconst app = new Hono()\napp.get(&amp;#39;/hello&amp;#39;, (c) =&amp;gt; c.text(&amp;#39;Hello&amp;#39;))\napp.get(&amp;#39;/blog/:slug&amp;#39;, (c) =&amp;gt; c.text(&amp;#39;Blog&amp;#39;))\n\nconst builder = new SitemapBuilder({\n  scanner: new HonoScanner(app),\n  hostname: &amp;#39;https://example.com&amp;#39;,\n  dynamicResolvers: [\n    {\n      pattern: &amp;#39;/blog/:slug&amp;#39;,\n      resolve: async () =&amp;gt; {\n        const posts = await getPosts()\n        return posts.map(p =&amp;gt; ({ slug: p.slug }))\n      }\n    }\n  ]\n})\n\n// Generate sitemap entries\nconst entries = await builder.build()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;Usage with Next.js&lt;/h3&gt;\n&lt;p&gt;For Next.js App Router, create a &lt;code&gt;sitemap.ts&lt;/code&gt; file:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&quot;language-typescript\&quot;&gt;// app/sitemap.ts\nimport { SitemapBuilder, NextScanner } from &amp;#39;@gravito/luminosity&amp;#39;\n\nexport default async function sitemap() {\n  const builder = new SitemapBuilder({\n    scanner: new NextScanner({ appDir: &amp;#39;./app&amp;#39; }),\n    hostname: &amp;#39;https://example.com&amp;#39;,\n    dynamicResolvers: [\n      {\n        pattern: &amp;#39;/blog/:slug&amp;#39;,\n        resolve: async () =&amp;gt; {\n          const posts = await getPosts()\n          return posts.map(p =&amp;gt; ({ slug: p.slug }))\n        }\n      }\n    ]\n  })\n\n  return builder.build()\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;Usage with Nuxt&lt;/h3&gt;\n&lt;pre&gt;&lt;code class=\&quot;language-typescript\&quot;&gt;// server/routes/sitemap.xml.ts\nimport { SitemapBuilder, NuxtScanner } from &amp;#39;@gravito/luminosity&amp;#39;\n\nexport default defineEventHandler(async () =&amp;gt; {\n  const builder = new SitemapBuilder({\n    scanner: new NuxtScanner({ pagesDir: &amp;#39;./pages&amp;#39; }),\n    hostname: &amp;#39;https://example.com&amp;#39;\n  })\n\n  const entries = await builder.build()\n  \n  // Convert to XML and return\n  return new Response(renderSitemapXml(entries), {\n    headers: { &amp;#39;Content-Type&amp;#39;: &amp;#39;application/xml&amp;#39; }\n  })\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;Creating Custom Scanners&lt;/h3&gt;\n&lt;p&gt;You can create scanners for any framework by implementing the &lt;code&gt;RouteScanner&lt;/code&gt; interface:&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&quot;language-typescript\&quot;&gt;import type { RouteScanner, ScannedRoute } from &amp;#39;@gravito/luminosity&amp;#39;\n\nclass MyFrameworkScanner implements RouteScanner {\n  readonly framework = &amp;#39;my-framework&amp;#39;\n\n  async scan(): Promise&amp;lt;ScannedRoute[]&amp;gt; {\n    // Your route discovery logic here\n    return [\n      { path: &amp;#39;/&amp;#39;, method: &amp;#39;GET&amp;#39;, isDynamic: false },\n      { path: &amp;#39;/blog/:slug&amp;#39;, method: &amp;#39;GET&amp;#39;, isDynamic: true, params: [&amp;#39;slug&amp;#39;] }\n    ]\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n","toc":[],"sidebar":[{"title":"Guide","items":[{"title":"Framework Integrations","href":"/docs/frameworks"},{"title":"CLI Reference","href":"/docs/cli"},{"title":"Usage Examples","href":"/docs/examples"},{"title":"Performance Benchmark","href":"/docs/benchmark"},{"title":"introduction","href":"/docs/introduction"},{"title":"getting-started","href":"/docs/getting-started"}]}],"currentPath":"/docs/frameworks","locale":"en"},"url":"/docs/frameworks","version":"1.0.0"}'></div>
</body>

</html>